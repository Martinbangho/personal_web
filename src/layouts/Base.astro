---
import MainNav from '../components/MainNav.astro';
import Footer from '../components/Footer.astro';
import type { Locale } from '../data/navigation';
import type { SeoInput } from '../utils/seo';
import { buildSeoTags } from '../utils/seo';
import '../styles/tokens.css';
import '../styles/base.css';

interface Props {
  lang?: Locale;
  seo: SeoInput;
  navClass?: string;
  navTopClass?: string;
}

const {
  lang = 'cs',
  seo,
  navClass = '',
  navTopClass = '',
}: Props = Astro.props;

const seoTags = seo ? buildSeoTags(lang, seo) : null;
---

<!DOCTYPE html>
<html lang={lang} class="no-js">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="msapplication-TileColor" content="#9f00a7" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
    <link rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap"
    />
    <link rel="stylesheet" href="/assets/css/animate.min.css" />
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/assets/css/font-awesome-pro.min.css" />
    <link rel="stylesheet" href="/assets/css/flaticon_gerold.css" />
    <link rel="stylesheet" href="/assets/css/all.min.css" />
    <link rel="stylesheet" href="/assets/fonts/bootstrap-icons/font-css.css" />
    <link rel="stylesheet" href="/assets/fonts/custom-font/css/clash-display.css" />
    {seoTags && (
      <>
        <title>{seoTags.title}</title>
        {seoTags.links.map((link) => (
          <link
            rel={link.rel}
            href={link.href}
            {...(link.hreflang ? { hreflang: link.hreflang } : {})}
          />
        ))}
        {seoTags.meta.map((meta) =>
          meta.name ? (
            <meta name={meta.name} content={meta.content} />
          ) : (
            <meta property={meta.property!} content={meta.content} />
          )
        )}
      </>
    )}
    <slot name="head" />
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-92X11QBKZL"></script>
    <script>
      {`window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);} 
gtag('js', new Date());
gtag('config', 'G-92X11QBKZL');`}
    </script>
  </head>
  <body>
    <div class="main-page-wrapper">
      <MainNav
        lang={lang}
        headerClass={navClass || undefined}
        topHeaderClass={navTopClass || undefined}
      >
        <slot slot="desktop-cta" name="nav-desktop-cta" />
        <slot slot="mobile-cta" name="nav-mobile-cta" />
      </MainNav>
      <slot />
      <Footer lang={lang}>
        <slot slot="cta" name="footer-cta" />
      </Footer>
    </div>
    <slot name="after-content" />
  </body>
</html>
